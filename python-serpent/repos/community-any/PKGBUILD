# Maintainer: Alexander F. RÃ¸dseth <xyproto@archlinux.org>
# Contributor: razer <razer@neuf.fr>

pkgname=python-serpent
pkgver=1.30.2
pkgrel=5
pkgdesc='Serializer for literal Python expressions'
url='https://github.com/irmen/Serpent'
arch=(any)
license=(MIT)
depends=(python)
makedepends=(git)
checkdepends=(python-attrs python-pytz python-testtools)
source=("serpent::git+$url#commit=60877b581069d4e592531968edd6c1468c822b0a") # tag: 1.30.2
b2sums=('SKIP')

check() {
  cd serpent
  python setup.py test
}

package() {
  cd serpent
  python setup.py install --root="$pkgdir" --optimize=1
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
