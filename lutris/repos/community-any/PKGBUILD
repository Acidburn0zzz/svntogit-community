# $Id$
# Maintainer: Filipe Laíns (FFY00) <lains@archlinux.org>
# Contributor: Frederik “Freso” S. Olesen <freso.dk@gmail.com>
# Contributor: Maxime Gauduin <alucryd@archlinux.org>

pkgname=lutris
pkgver=0.4.18.1
pkgrel=3
pkgdesc='Open Gaming Platform'
arch=('any')
url='https://lutris.net'
license=('GPL3')
depends=('desktop-file-utils' 'hicolor-icon-theme' 'polkit' 'xorg-xrandr' 'python-dbus'
         'python-gobject' 'python-yaml' 'python-evdev' 'cabextract' 'gtk3' 'libsoup')
makedepends=('python-setuptools')
checkdepends=('python-pytest-runner')
optdepends=('wine: recommended to avoid dependency issues'
            'wine-staging: recommended to avoid dependency issues - Staging patches'
            'wine-gaming-nine: recommended to avoid dependency issues - Gallium9 patches')
makedepends=('python-setuptools')
source=("$url/releases/${pkgname}_$pkgver.tar.xz")
sha512sums=('d5f760860d7b88101e8833e7c8697ce6584a041b82049a7068e6f1e52c564a74ba97e4d2899706e6f3684404acfa8b858ddd41f67301acf42be11e6768607ada')

build() {
  cd $pkgname

  python setup.py build
}

check() {
  cd $pkgname

  #python setup.py pytest
}

package() {
  cd $pkgname

  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
}

