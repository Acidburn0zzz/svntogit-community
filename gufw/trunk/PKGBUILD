# $Id$
# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>
# Contributor: Kessia 'even' Pinheiro <kessiapinheiro at gmail.com>

pkgname=gufw
_realname=gui-ufw
pkgver=9.04.2
_pkgvermain=9.04
pkgrel=1
pkgdesc="An easy, intuitive way to manage your Linux firewall"
arch=('i686' 'x86_64')
url="http://gufw.tuxfamily.org/index.html"
license=('GPL3')
depends=('ufw' 'pygtk' 'sudo' 'gksu' 'gnome-python')
source=(http://launchpad.net/${_realname}/${pkgname}-${_pkgvermain}-jaunty/${_pkgvermain}/+download/${pkgname}_${pkgver}-all.tar.gz \
        $pkgnamen.desktop)
install=$pkgname.install
md5sums=('1677d1a5208c62efb1f6bfc07d0be0ce'
         '25db1a59b6f3897aa530f0c606f1103d')

build() {
  cd ${srcdir}

  install -d ${pkgdir}/usr/share/{applications,${pkgname},pixmaps} ${pkgdir}/usr/bin || return 1
  install -D -m0644 gufw.desktop ${pkgdir}/usr/share/applications/ || return 1

  cd ${srcdir}/${_realname}
  cp -R * ${pkgdir}/usr/share/${pkgname} || return 1
  sed -e 's|/usr/share/pixmaps/gufw|/usr/share/gufw/pixmaps|' -i ${pkgdir}/usr/share/gufw/model/Variable.py
  ln -sf /usr/share/${pkgname}/${pkgname}.py ${pkgdir}/usr/bin/${pkgname} || return 1
  ln -s /usr/share/${pkgname}/pixmaps/icons/${pkgname}.png ${pkgdir}/usr/share/pixmaps/${pkgname}.png || return 1
}
