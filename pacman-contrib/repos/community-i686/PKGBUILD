# $ Id: $
# Maintainer: Allan McRae <allan@archlinux.org>

pkgname=pacman-contrib
pkgver=3.2.2
pkgrel=1
pkgdesc="Utilities for use with the pacman package manager"
arch=('i686' 'x86_64')
url="http://www.archlinux.org/pacman/"
license=('GPL')
depends=('pacman')
source=(ftp://ftp.archlinux.org/other/pacman/pacman-$pkgver.tar.gz)
md5sums=('8404fc38566bb52f8eee2ea483a41051')

build() {
  cd ${srcdir}/pacman-${pkgver}/contrib
  for script in bacman pacdiff paclist pacsearch pactree; do
    install -Dm755 ${script} ${pkgdir}/usr/bin/${script}
  done

  install -Dm644 PKGBUILD.vim ${pkgdir}/usr/share/vim/syntax/PKGBUILD.vim
  mkdir ${pkgdir}/usr/share/vim/ftdetect
  echo "au BufNewFile,BufRead PKGBUILD set filetype=PKGBUILD" \
    > ${pkgdir}/usr/share/vim/ftdetect/PKGBUILD.vim
}
