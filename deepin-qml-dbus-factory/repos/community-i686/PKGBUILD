# $Id$
# Maintainer: Felix Yan <felixonmars@archlinux.org>
# Contributor: Josip Ponjavic <josipponjavic at gmail dot com>
# Contributor: Xu Fasheng <fasheng.xu[AT]gmail.com>

pkgname=deepin-qml-dbus-factory
pkgver=3.0.6
pkgrel=1
pkgdesc='Deepin QML DBus Factory'
arch=('i686' 'x86_64')
url="https://github.com/linuxdeepin/dbus-factory"
license=('GPL3')
depends=('qt5-declarative')
conflicts=('deepin-qml-widget<2.3.5')
makedepends=('deepin-dbus-generator' 'go')
source=("$pkgname-$pkgver.tar.gz::https://github.com/linuxdeepin/dbus-factory/archive/$pkgver.tar.gz")
sha512sums=('ea0b217b9e9eac84dceab4e8ba8b0adb47969d4951f402204863f38206eebb59c0efc572fcd2bcd7972fe2837cbf6fc3ef6cf741fa4cb1216f35689841c25548')

build() {
  cd "$srcdir"/dbus-factory-$pkgver
  make build-qml
}

package() {
  cd "$srcdir"/dbus-factory-$pkgver
  make DESTDIR="$pkgdir" QT5_LIBDIR="/usr/lib/qt" install-qml
}
