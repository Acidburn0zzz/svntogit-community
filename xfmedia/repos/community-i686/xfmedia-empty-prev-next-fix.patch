diff -wbBur xfmedia-0.9.2/src/mainwin.c xfmedia-0.9.2.my/src/mainwin.c
--- xfmedia-0.9.2/src/mainwin.c	2006-11-27 07:21:23.000000000 +0000
+++ xfmedia-0.9.2.my/src/mainwin.c	2010-11-01 10:16:25.000000000 +0000
@@ -1865,6 +1866,9 @@
     gboolean use_playlist_q  = xfmedia_playlist_queue_n_entries(mwin->playlist_q);
     gboolean ret = FALSE;
     
+    if(xfmedia_playlist_queue_is_empty(mwin->playlist_q))
+	return;
+
     if(mwin->cur_playing
        && xfmedia_settings_get_bool("/xfmedia/playlist/shuffle")
        && !use_playlist_q )
@@ -1899,6 +1903,9 @@
 {
     gint tot_items, idx = -1;
     
+    if(xfmedia_playlist_queue_is_empty(mwin->playlist_q))
+	return;
+
     if(xfmedia_settings_get_bool("/xfmedia/playlist/shuffle")) {
         XfmediaPlaylistEntryRef *ref = NULL;
         gboolean playing = FALSE;
diff -wbBur xfmedia-0.9.2/src/xfmedia-playlist-queue.c xfmedia-0.9.2.my/src/xfmedia-playlist-queue.c
--- xfmedia-0.9.2/src/xfmedia-playlist-queue.c	2006-11-27 07:21:22.000000000 +0000
+++ xfmedia-0.9.2.my/src/xfmedia-playlist-queue.c	2010-11-01 10:15:47.000000000 +0000
@@ -421,6 +421,11 @@
     g_signal_emit(G_OBJECT(playlist_q), __signals[SIG_ENTRY_ADDED], 0);
 }
 
+gboolean xfmedia_playlist_queue_is_empty(XfmediaPlaylistQueue *playlist_q)
+{
+	return g_queue_is_empty(playlist_q->priv->entries);
+}
+
 XfmediaPlaylistEntryRef *
 xfmedia_playlist_queue_pop_entry(XfmediaPlaylistQueue *playlist_q)
 {
diff -wbBur xfmedia-0.9.2/xfmedia/xfmedia-playlist-queue.h xfmedia-0.9.2.my/xfmedia/xfmedia-playlist-queue.h
--- xfmedia-0.9.2/xfmedia/xfmedia-playlist-queue.h	2006-11-27 07:21:24.000000000 +0000
+++ xfmedia-0.9.2.my/xfmedia/xfmedia-playlist-queue.h	2010-11-01 10:16:08.000000000 +0000
@@ -62,6 +62,8 @@
                                               const gchar *display_name,
                                               gint entry_length);
 
+gboolean xfmedia_playlist_queue_is_empty(XfmediaPlaylistQueue *playlist_q);
+
 XfmediaPlaylistEntryRef *xfmedia_playlist_queue_pop_entry
                                              (XfmediaPlaylistQueue *playlist_q);
 XfmediaPlaylistEntryRef *xfmedia_playlist_queue_peek_entry
