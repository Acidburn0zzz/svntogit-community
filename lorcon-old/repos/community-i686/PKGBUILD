# Maintainer: Brad Fanella <bradfanella@archlinux.us>
# Contributor: fnord0 [fnord0 <AT> riseup <DOT> net]

pkgname=lorcon-old-svn
pkgver=197
pkgrel=2
makedepends=('subversion')
pkgdesc="Loss Of Radio CONnectivity: A generic library for injecting 802.11 frames, capable of injection via multiple driver frameworks, without forcing modification of the application code."
url="http://802.11ninja.net"
license="GPL"
arch=('i686' 'x86_64')

_svntrunk=http://802.11ninja.net/svn/lorcon/branch/lorcon-old/
_svnmod=lorcon-old

build() {
	cd ${srcdir}

	# Fetch latest svn build
	if [ -d ${_svnmod}/.svn ]; then
		msg "Updating lorcon-old SVN..."
		cd ${_svnmod} && svn up
	else
		msg "Checking out lorcon-old SVN..."
		svn co ${_svntrunk} -r 224 ${_svnmod}
	fi

        msg "SVN checkout done or server timeout"

	# Compile
	cd ${srcdir}/${_svnmod}
	msg "Starting make..."
	./configure --prefix=/usr
	make 
}

package() {
	cd ${srcdir}/${_svnmod}
	
	# Install
	make DESTDIR="${pkgdir}" install
}

