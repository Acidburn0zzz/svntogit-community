# Maintainer: Filipe La√≠ns (FFY00) <lains@archlinux.org>

pkgname=znc-clientbuffer
pkgver=1.0.44
pkgrel=2
pkgdesc='ZNC module for client specific buffers'
arch=('x86_64')
url='https://github.com/CyberShadow/znc-clientbuffer'
license=('Apache')
depends=('znc')
makedepends=('cmake' 'python')
source=("$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz"
        'fix-makefile.patch::https://github.com/FFY00/znc-clientbuffer/commit/9e8efd54a23745229d62caefd297bab0b1f2a315.patch')
sha512sums=('5ac85ee0ef7c308c5a083fdcd5986e0bd78068de825975070462d41649f62cbde54177cdd1cdb970868cafbc7d9c64e113028444589d02b61ffbf19044640c82'
            'f71224b9e12dab20420f903cb60aef2bcf754c175b37f4e258fe0c02b72c753625c8ac348fa4400ac0c8d9d7f6a87f7626aa210b71c98e62466011d8835091ca')

export PREFIX=/usr

prepare() {
  cd $pkgname-$pkgver

  patch -p1 -i ../fix-makefile.patch
}

build() {
  cd $pkgname-$pkgver

  make
}

package() {
  cd $pkgname-$pkgver

  make DESTDIR="$pkgdir" install
}

