# Maintainer: Filipe La√≠ns (FFY00) <lains@archlinux.org>

pkgname=znc-clientbuffer
pkgver=1.0.44
pkgrel=2
pkgdesc='ZNC module for client specific buffers'
arch=('x86_64')
url='https://github.com/CyberShadow/znc-clientbuffer'
license=('Apache')
depends=('znc')
makedepends=('cmake' 'python')
source=("$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz"
        'fix-makefile.patch::https://github.com/FFY00/znc-clientbuffer/commit/9e8efd54a23745229d62caefd297bab0b1f2a315.patch')
sha512sums=('5ac85ee0ef7c308c5a083fdcd5986e0bd78068de825975070462d41649f62cbde54177cdd1cdb970868cafbc7d9c64e113028444589d02b61ffbf19044640c82'
            'b6de561c5d93c47caa4abcd5a855baae93e28de49a127cd09b48c063cebb0a82f350d4cc201b71e6e736cb3c8c234a4b26d771ae7450a05777c044307542e5f5')

export PREFIX=/usr

prepare() {
  cd $pkgname-$pkgver

  patch -p1 -i ../fix-makefile.patch
}

build() {
  cd $pkgname-$pkgver

  make
}

package() {
  cd $pkgname-$pkgver

  make DESTDIR="$pkgdir" install
}

