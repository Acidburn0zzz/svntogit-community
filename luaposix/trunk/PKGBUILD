# $Id$
# Maintainer: SÃ©bastien Luttringer <seblu@aur.archlinux.org>
# Contributor: SpepS <dreamspepser at yahoo dot it>
# Contributor: Laszlo Papp <djszapi at archlinux us>
# Contributor: Donald Ephraim Curtis <dcurtis@gmail.com>

pkgname=luaposix
pkgver=5.1.23
pkgrel=1
pkgdesc='POSIX library for Lua programming language'
arch=('i686' 'x86_64')
url='http://luaforge.net/projects/luaposix/'
license=('GPL' 'LGPL')
depends=('lua' 'luabitop')
#checkdepends=('lunit')
options=('!libtool')
source=("https://github.com/downloads/$pkgname/$pkgname/$pkgname-$pkgver.tar.gz")
md5sums=('ebe7d335741ca736e003a6844a0fbf92')

build() {
  cd $pkgname-$pkgver
  ./configure --prefix=/usr \
              --libdir=/usr/lib/lua/5.1 \
              --datadir=/usr/share/lua/5.1
  make
}

#check() {
#  cd $pkgname-$pkgver
#  make check
#}

package() {
  cd $pkgname-$pkgver
  make PREFIX=/usr DESTDIR="$pkgdir/" install
  # examples
  install -d "$pkgdir/usr/share/$pkgname/examples"
  install -D -m 644 *.lua "$pkgdir/usr/share/$pkgname/examples"
}

# vim:set ts=2 sw=2 ft=sh et:
