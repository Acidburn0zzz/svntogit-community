# Maintainer: Angel 'angvp' Velasquez <angvp[at]archlinux.com.ve>  
# Contributor: Peter Garceau <RockyChimp@gmail.com>
pkgname=python-sympy
pkgver=0.6.6
pkgrel=2
pkgdesc="Symbolic manipulation package (Computer Algebra System), written in pure Python"
url="http://code.google.com/p/sympy"
license=('BSD')
depends=('python')
conflicts=('sympy')
provides=('sympy')
arch=('i686' 'x86_64')
source=(http://sympy.googlecode.com/files/sympy-${pkgver}.tar.gz
        test.patch)
md5sums=('aa7be690a1df7e7415fe968f5e076733'
         '20b13b0489ebf625230ea73be090afea')

build() {
  cd "${srcdir}/sympy-${pkgver}"
  #patch fixes /usr/bin/test bug, which was fixed right after 0.6.6 came out
  #http://git.sympy.org/?p=sympy.git;a=commitdiff;h=edf81a4d8eb1b5d6a6242481eea5b66c5d7ef26b
  patch -Np1 < ../test.patch
  python setup.py install --root "${pkgdir}" || return 1
  install -Dm644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
