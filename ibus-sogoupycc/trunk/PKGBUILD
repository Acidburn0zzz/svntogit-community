# Contributor: WU Jun <quark at lihdd dot net>
# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=ibus-sogoupycc
pkgver=0.2.0.20100318
pkgrel=2
pkgdesc="A Sogou cloud client and Chinese input method on ibus platform."
arch=('i686' 'x86_64')
url="http://code.google.com/p/ibus-sogoupycc/"
license=('GPL')
depends=('ibus>=1.2.0' 'ibus<=1.2.98' 'lua>=5.1' 'lua<=5.1.99'
	 'luasocket' 'glib' 'dbus' 'sqlite3' 'gtk2' 'libnotify')
makedepends=('cmake')
conflicts=('ibus-sogoupycc-svn')
source=(http://${pkgname}.googlecode.com/files/${pkgname}-${pkgver}.tar.gz \
	http://ibus.googlecode.com/files/pinyin-database-1.2.99.tar.bz2)
md5sums=('6511b49654a45f4a60e2132c41e78872'
         'd0951b8daa7f56a2cbd3b6b4e42532e0')

build() {
	cd ${srcdir}/${pkgname}-${pkgver}
	./build.sh || return 1
}

package() {
	cd ${srcdir}/${pkgname}-${pkgver}/build
	make DESTDIR=${pkgdir} install || return 1
	install -Dm644 ${srcdir}/db/main.db \
		${pkgdir}/usr/share/ibus-sogoupycc/db/main.db
}


