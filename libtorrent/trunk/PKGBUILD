# $Id$
# Maintainer: Jeff Mickey <jeff@archlinux.org>
# Contributor: sh__

pkgname=libtorrent
pkgver=0.12.4
pkgrel=1
pkgdesc="BitTorrent library written in C++"
arch=('i686' 'x86_64')
url="http://libtorrent.rakshasa.no"
license=('GPL')
depends=('libsigc++2.0' 'openssl')
options=('!libtool')
source=(http://libtorrent.rakshasa.no/downloads/$pkgname-$pkgver.tar.gz gcc44.patch)
md5sums=('7e4b4c29a69c86c38e3e60ec11fc2255'
         'cd531199ff0fb6a432780bc24529c195')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  patch -Np1 -i "$srcdir/gcc44.patch" || return 1

  CXXFLAGS="$CXXFLAGS -fno-strict-aliasing" \
    ./configure --prefix=/usr --disable-debug || return 1
  make || return 1
  make DESTDIR="$pkgdir" install
}

# vim:set ts=2 sw=2 et:
