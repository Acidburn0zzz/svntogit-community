# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>

pkgname=myodbc
pkgver=5.1.10
pkgrel=1
pkgdesc="ODBC driver/connector for MySQL"
arch=(i686 x86_64)
url="http://dev.mysql.com/downloads/connector/odbc/"
depends=('unixodbc' 'libmysqlclient')
license=('GPL')
options=('libtool')
source=("http://mysql.cce.usp.br/Downloads/Connector-ODBC/5.1/mysql-connector-odbc-${pkgver}-src.tar.gz"
	myconf.h.in)
md5sums=('71d570a7f6839b81d101bf803e4f864a'
         '6c99c83e309b18d15ef0f07f0b461241')

build() {
  cd $srcdir/mysql-connector-odbc-${pkgver}-src
  cp $srcdir/myconf.h.in driver/myconf.h.in
  [ -x configure ] || { aclocal; libtoolize; automake --add-missing; autoreconf; }
  [ -f Makefile ] || CFLAGS="$CFLAGS -DTHREAD" \
	./configure --prefix=/usr --sysconfdir=/etc --with-unixODBC=/usr --with-odbc-ini=/etc/odbc.ini \
		--with-mysql-path=/usr --without-x --disable-gui --disable-test
  make
}

package() {
  cd $srcdir/mysql-connector-odbc-${pkgver}-src
  make DESTDIR=$pkgdir install
}
