# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>
# Contributor: Aaron Schaefer <aaron@elasticdog.com>

pkgname=vim-surround
pkgver=1.34
_scriptid=8283
pkgrel=5
pkgdesc='A Vim plugin that provides mappings to easily delete, change, and add paired "surroundings"'
arch=('any')
url='http://www.vim.org/scripts/script.php?script_id=1697'
license=('custom')
depends=('vim')
makedepends=('unzip')
install=vimdoc.install
source=("http://www.vim.org/scripts/download_script.php?src_id=${_scriptid}" 
 	 license.txt)
md5sums=('a222c68bba49fa7f81008cfdfc89f342' 
	 'cd49910a3dde6fe0a7e24ebe8cbf7066')

build() {
	cd ${srcdir}

	# Fix retarded filename
	mv download_script.php?src_id=${_scriptid} surround-${pkgver}.zip
	unzip -qqo surround-${pkgver}.zip

	installpath="${pkgdir}/usr/share/vim/vimfiles"
	install -Dm644 doc/surround.txt ${installpath}/doc/surround.txt
	install -Dm644 plugin/surround.vim ${installpath}/plugin/surround.vim
	install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
}
