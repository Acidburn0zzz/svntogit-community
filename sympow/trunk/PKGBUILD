# $Id$
# Maintainer: Antonio Rojas <arojas@archlinux.org>

pkgname=sympow
pkgver=2.023.2
pkgrel=1
pkgdesc="A a package to compute special values of symmetric power elliptic curve L-functions"
arch=(x86_64)
url="http://www.sagemath.org"
license=(GPL)
depends=(pari)
makedepends=(help2man)
source=("https://gitlab.com/rezozer/forks/sympow/-/archive/v$pkgver/sympow-v$pkgver.tar.gz")
sha256sums=('5729059891ff82c40b879aa8ac2b63c7f94cd3261bf97be10cf6e8404231b113')

prepare() {
  cd $pkgname-v$pkgver
  sed -e 's|VERBOSE_DEFAULT 1|VERBOSE_DEFAULT 0|' -i sympow.h
}

build() {
  cd $pkgname-v$pkgver

  PREFIX=/usr ./Configure
  make
}

package() {
  cd $pkgname-v$pkgver

  make DESTDIR="$pkgdir" install
#  mkdir -p "$pkgdir"/usr/{bin,share/sympow}
#  cp -r *.gp datafiles "$pkgdir"/usr/share/sympow
#  cp sympow "$pkgdir"/usr/bin/sympow_bin
#  cp new_data "$pkgdir"/usr/bin/new_data

#  install -Dm755 "$srcdir"/sympow.sh "$pkgdir"/usr/bin/sympow
}
