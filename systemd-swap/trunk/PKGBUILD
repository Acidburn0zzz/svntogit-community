# Maintainer: Felix Yan <felixonmars@archlinux.org>
# Contributor: Timofey Titovets <Nefelim4ag@gmail.com>

pkgname=systemd-swap
pkgver=4.1.0
pkgrel=1
pkgdesc="Script for creating hybrid swap space from zram swaps, swap files and swap partitions."
arch=('any')
url="https://github.com/Nefelim4ag/systemd-swap"
license=('GPL3')
depends=('systemd' 'bash')
backup=('etc/systemd/swap.conf')
install="$pkgname.install"
source=("$pkgname-$pkgver.tar.gz::https://github.com/Nefelim4ag/systemd-swap/archive/$pkgver.tar.gz")
sha512sums=('3abbbb18db437636c06870dcbe8ff0c9837523a9c5fff78e3fe6f42b9a3e239d99f444fea446810b337e9f55e83dcb79b9a80678f09a826041e0ec416876cd2b')

package() {
  cd systemd-swap-$pkgver
  make PREFIX="$pkgdir" install

  install -dm755 "$pkgdir"/usr/lib
  mv "$pkgdir"/lib/systemd "$pkgdir"/usr/lib/systemd
  rmdir "$pkgdir"/lib
}
