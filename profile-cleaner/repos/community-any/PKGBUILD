# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=profile-cleaner
pkgver=2.40
pkgrel=1
pkgdesc="Simple script to vacuum and reindex sqlite databases used by browsers"
arch=('any')
url="https://github.com/graysky2/profile-cleaner"
license=('MIT')
depends=('bash' 'bc' 'findutils' 'parallel' 'sqlite')
optdepends=('zsh-completions: for completion when using zsh')
install="${pkgname}.install"
source=("$pkgname-$pkgver.tar.gz::https://github.com/graysky2/${pkgname}/archive/v${pkgver}.tar.gz")
sha512sums=('a8fec032e84a591d6b4d54601f1c6e2d0b0bc89a1de4a8597d78611d87ceb741583b53a9e4d90bae8479e99621adba8f397cb35c57eaef1c059a67720d4dd4b2')

build() {
  cd "$pkgname-$pkgver"
  make
}

package() {
  cd "$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
  install -vDm 644 LICENSE -t "${pkgdir}/usr/share/licenses/${pkgname}"
  install -vDm 644 README.md -t "${pkgdir}/usr/share/doc/${pkgname}"
}
