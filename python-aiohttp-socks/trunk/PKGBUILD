# Maintainer: Santiago Torres-Arias <santiago@archlinux.org>

pkgname=python-aiohttp-socks
pkgver=0.3.9
pkgrel=1
pkgdesc="SOCKS proxy connector for aiohttp. SOCKS4(a) and SOCKS5 are supported."
arch=('any')
url="https://github.com/romis2012/aiohttp-socks/"
license=('Apache')
depends=('python-aiohttp')
makedepends=('python' 'python-setuptools')
checkdepends=('python-pytest' 'python-pytest-asyncio')
source=("https://github.com/romis2012/aiohttp-socks/archive/${pkgver}.tar.gz")
sha256sums=('c88b5b308f707823700cbb3d8605f555308566d42683ee4ecc9899dafe2f6456')

check() {
    cd "${pkgname//python-}-${pkgver}"
    pytest
}

build() {
    cd "${pkgname//python-}-${pkgver}"
    python setup.py build

}

package() {
    cd "${pkgname//python-}-${pkgver}"
    python setup.py install --prefix=/usr --root="${pkgdir}" --optimize=1
}

