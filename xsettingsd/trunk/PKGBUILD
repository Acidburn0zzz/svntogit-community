# Maintainer: Alad Wenter <alad@archlinux.org>
pkgname=xsettingsd
pkgver=1.0.0
pkgrel=1
pkgdesc="Provides settings to X11 applications via the XSETTINGS specification"
arch=('x86_64')
url="https://github.com/derat/xsettingsd"
license=('custom:BSD')
depends=('libx11' 'gcc-libs')
makedepends=('git' 'scons')
source=("git+https://github.com/derat/xsettingsd.git")
md5sums=('SKIP')

build() {
    cd "$pkgname"
    env CPPFLAGS="$CXXFLAGS" scons xsettingsd dump_xsettings
}

package() {
    cd "$pkgname"
    install -Dm755 xsettingsd dump_xsettings -t "$pkgdir/usr/bin/"
    install -Dm644 xsettingsd.1 dump_xsettings.1 -t "$pkgdir/usr/share/man/man1/"
    install -Dm644 COPYING -t "$pkgdir/usr/share/licenses/$pkgname/"
}
