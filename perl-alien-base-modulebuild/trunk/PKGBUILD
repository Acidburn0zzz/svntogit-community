# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=perl-alien-base-modulebuild
pkgver=1.07
pkgrel=1
pkgdesc="A Module::Build subclass for building Alien:: modules and their libraries"
arch=('any')
license=('PerlArtistic')
url="https://metacpan.org/release/Alien-Base-ModuleBuild"
depends=('perl-alien-build' 'perl-archive-extract' 'perl-capture-tiny' 'perl-file-chdir'
         'perl-html-parser' 'perl-module-build' 'perl-path-tiny' 'perl-shell-config-generate'
         'perl-shell-guess' 'perl-sort-versions' 'perl-uri')
makedepends=('perl-test2-suite')
checkdepends=('perl-acme-alien-dontpanic' 'perl-inline' 'perl-inline-c' 'perl-inline-cpp')
options=('!emptydirs')
source=("https://cpan.metacpan.org/authors/id/P/PL/PLICEASE/Alien-Base-ModuleBuild-$pkgver.tar.gz")
sha512sums=('e3800a73af3e9612d6e5df111b3cee77e5b0616266f51b14630aa93a5831cfd95a8a76ef9cd292689139c6dfead8b9c149573f3ea34263710281a73aec7729dc')

build() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build.PL installdirs=vendor
  perl Build
}

check() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build test
}

package() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build install destdir="$pkgdir"
}
