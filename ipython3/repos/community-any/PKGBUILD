# Maintainer: Kyle Keen <keenerd@gmail.com>
# Contributor: PepeSmith
# Contributor: Aron Asor <aronasorman at gmail.com>
# IPython2 Maintainer: Chris Brannon <chris@the-brannons.com>
# Contributor : Douglas Soares de Andrade <dsa@aur.archlinux.org>

pkgname=ipython3
pkgver=0.11
pkgrel=1
pkgdesc="An enhanced Interactive Python shell."
arch=('any')
url="http://ipython.org"
license=('Modified BSD')
depends=('python')
optdepends=("wxpython: needed for ipythonx and ipython-wx"
            "python-nose: if you want to run IPython's test suite"
            "pyqt: for ipython3-qtconsole"
            "sip: for ipython3-qtconsole"
            "python-pyzmq: for ipython3-qtconcole")
source=("http://archive.ipython.org/release/$pkgver/py3/ipython-$pkgver-py3.tar.gz")
md5sums=('d4a83d38401c6c8c6768cba8a63341db')

package() {
  cd "$srcdir/ipython-$pkgver"
  python setup.py install --prefix=/usr --root="$pkgdir" --optimize=1
  mv "$pkgdir/usr/share/doc/ipython" "$pkgdir/usr/share/doc/ipython3"
  # hack to get around ipython collision
  cd "$pkgdir/usr/share/man/man1/"
  mv ipcluster.1.gz    ipcluster3.1.gz
  mv ipcontroller.1.gz ipcontroller3.1.gz
  mv ipengine.1.gz     ipengine3.1.gz
  mv iplogger.1.gz     iplogger3.1.gz
  mv ipython.1.gz      ipython3.1.gz
  mv irunner.1.gz      irunner3.1.gz
  mv pycolor.1.gz      pycolor3.1.gz
}
