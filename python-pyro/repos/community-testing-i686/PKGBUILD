# $Id$
# Contributor: Douglas Soares de Andrade <dsa@aur.archlinux.br>

pkgname=python-pyro
pkgver=3.10
pkgrel=2
pkgdesc="Python Remote Objects"
url="http://pyro.sourceforge.net"
arch=('i686' 'x86_64')
license=('MIT')
depends=('python2')
source=(http://www.xs4all.nl/~irmen/pyro3/download/Pyro-${pkgver}.tar.gz)
md5sums=('7fc6b8b939073d4adb0e8939c59aaf1e')

build() {
    cd $srcdir/Pyro-${pkgver}

    # python2 fix
    for file in Pyro/wxnsc.py Pyro/ext/daemonizer.py; do
        sed -i 's_#!/usr/bin/env python_#!/usr/bin/env python2_' $file
    done

    python2 setup.py install --root=$pkgdir
    install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
