# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=tomlplusplus
pkgver=3.0.0
pkgrel=1
pkgdesc="Header-only TOML config file parser and serializer for C++17"
arch=(any)
url="https://marzer.github.io/tomlplusplus/"
license=(MIT)
makedepends=(cmake meson)
source=("$pkgname-$pkgver.tar.gz::https://github.com/marzer/tomlplusplus/archive/refs/tags/v${pkgver}.tar.gz")
sha512sums=('46a3d2b063af1ad4e414d61c19873c25ed222291a667b480f684cb43ccb9c67f522717da1530e6d6ca657bef2812135d2f1c4fb9b65f8b2a841fe0ddb66767ce')
b2sums=('59ce0687c6a8b36177bd7345d2463a50455e393ed725c7dbfb59de5b7b9c5985b800bbf6a6c831429f6a43698fb9cda88925afad2595ff3a2e18caa004c09ad5')

build() {
  arch-meson "$pkgname-$pkgver" build
  ninja -C build
}

package() {
  meson install -C build --destdir "$pkgdir"
  install -vDm 644 "$pkgname-$pkgver/LICENSE" -t "${pkgdir}/usr/share/licenses/${pkgname}"
}
