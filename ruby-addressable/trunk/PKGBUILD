# $Id$
# Maintainer: Felix Yan <felixonmars@archlinux.org>
# Contributor: Mario Finelli <mario at finel dot li>
# Contributor: Artem Vorotnikov <artem at vorotnikov dot me>

pkgname=ruby-addressable
pkgver=2.5.0
pkgrel=3
pkgdesc='URI Implementation'
arch=('any')
url='https://github.com/sporkmonger/addressable'
license=('Apache')
depends=('ruby' 'ruby-public_suffix')
options=('!emptydirs')
source=("https://rubygems.org/downloads/addressable-$pkgver.gem")
noextract=("addressable-$pkgver.gem")
sha256sums=('bc5bf921b39640675fbb3484cdb45e4241b4c88d8d5a7d85a3985424ad02b9c8')

package() {
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies --no-user-install -i "$pkgdir/$_gemdir" -n "$pkgdir"/usr/bin addressable-$pkgver.gem
  rm "$pkgdir/$_gemdir"/cache/addressable-$pkgver.gem
  install -D -m644 "$pkgdir/$_gemdir"/gems/addressable-$pkgver/LICENSE.txt "$pkgdir"/usr/share/licenses/$pkgname/LICENSE.txt
}
