# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Asa Marco <marcoasa90[at]gmail[.]com>

pkgname=mlt-python-bindings
pkgver=0.6.0
pkgrel=1
pkgdesc="Python bindings for MLT multimedia framework"
arch=('i686' 'x86_64')
url="http://www.mltframework.org"
license=('GPL')
depends=('python2' 'mlt')
makedepends=('swig')
source=(http://downloads.sourceforge.net/sourceforge/mlt/mlt-$pkgver.tar.gz)
md5sums=('4758fe1716215c42a682a14af9a2bfe6')

build() {
  mkdir -p $pkgdir/usr/lib/python2.7/
  cd $srcdir/mlt-$pkgver/src/swig/python

  # python2 fix
  sed -i 's_path=`which python_path=`which python2_' build
  sed -i 's_`python -c_`python2 -c_' build

  ./build
  install -m755 mlt.py $pkgdir/usr/lib/python2.7/
  install -m755 _mlt.so $pkgdir/usr/lib/python2.7/
  install -m755 mlt_wrap.o $pkgdir/usr/lib/python2.7/
}
