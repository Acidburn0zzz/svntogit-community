# $Id$
# Maintainer: Antonio Rojas <arojas@archlinux.org>

pkgname=normaliz
pkgver=3.1.1
pkgrel=1
pkgdesc="An open source tool for computations in affine monoids, vector configurations, lattice polytopes, and rational cones"
arch=(i686 x86_64)
url="https://www.normaliz.uni-osnabrueck.de/"
license=(GPL3)
depends=(gmp)
makedepends=(boost cmake)
source=("https://www.normaliz.uni-osnabrueck.de/wp-content/uploads/2016/04/Normaliz$pkgver.zip" normaliz-flags.patch)
md5sums=('6de04a6ef3df5be9fc7bef0cbfdf4a91'
         'e2f227ce2fdfefaa1042a4663bd069d1')

prepare() {
  cd Normaliz${pkgver%.*}

  mkdir -p build
}

build() {
  cd Normaliz${pkgver%.*}/build

  cmake ../source -DCMAKE_INSTALL_PREFIX=/usr
  make
}

package() {
  cd Normaliz${pkgver%.*}/build
  make DESTDIR="$pkgdir" install
}
