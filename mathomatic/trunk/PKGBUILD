# Contributor: G_Syme <demichan(at)mail(dot)upb(dot)de>
# Maintainer: Stefan Husmann <stefan-husmann@t-online.de>

pkgname=mathomatic
pkgver=14.6.2
pkgrel=1
pkgdesc="General purpose Computer Algebra System written in C"
arch=('i686' 'x86_64')
license=('LGPL')
url="http://mathomatic.orgserve.de/math/"
depends=('readline')
optdepends=('python: for running /usr/share/doc/mathomatic/factorial/factorial' 'bash: for running a test script' 'gnuplot: for plotting')
source=(http://www.panix.com/~gesslein/$pkgname-$pkgver.tar.bz2)
md5sums=('6b6a8509a80c5a841950c49d1be0b170')

build() {
  cd "$srcdir"/$pkgname-$pkgver
  make READLINE=1 || return 1
  make test || return 1
  make prefix="$pkgdir"/usr install || return 1

  cd primes
  make || return 1
  make test || return 1
  make prefix="$pkgdir"/usr install || return 1
}
