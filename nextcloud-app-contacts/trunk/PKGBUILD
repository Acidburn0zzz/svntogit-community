# $Id: PKGBUILD 103944 2014-01-13 20:31:53Z spupykin $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>

pkgname=nextcloud-app-contacts
pkgver=1.5.3
pkgrel=2
pkgdesc="Contacts app for nextcloud"
arch=('any')
url="http://nextcloud.org/"
license=('GPL')
depends=('nextcloud')
makedepends=('bower' 'gulp' 'npm' 'git')
options=('!strip')
source=("$pkgname-$pkgver.tar.gz::https://github.com/nextcloud/contacts/archive/v$pkgver.tar.gz")
sha256sums=('80b515cc3a863e35ad70472ba2e2efd9bbd2d3058e4563748e105921e4276601')

build() {
  cd "$srcdir"/contacts-$pkgver
  bower install
  npm install
  gulp
}

package() {
  install -d "$pkgdir"/usr/share/webapps/nextcloud/apps
  cp -a "$srcdir"/contacts-$pkgver "$pkgdir"/usr/share/webapps/nextcloud/apps/contacts
}
