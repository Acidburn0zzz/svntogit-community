# $Id$
# Maintainer: Pierre Schmitz <pierre@archlinux.de>

pkgname=courier-pythonfilter
pkgver=1.6
pkgrel=1
pkgdesc="Python filtering architecture for the Courier MTA."
arch=('i686' 'x86_64')
url='http://www.dragonsdawn.net/~gordon/courier-patches/courier-pythonfilter/'
license=('GPL')
depends=('python' 'courier-mta')
optdepends=('pyclamav' 'pydns' 'pyspf')
backup=('etc/pythonfilter.conf' 'etc/pythonfilter-modules.conf')
options=('emptydirs')
install="$pkgname.install"
source=("http://www.dragonsdawn.net/~gordon/courier-patches/courier-pythonfilter/$pkgname-$pkgver.tar.gz")
md5sums=('893204b430fef5621267fc6b23e728e4')

build() {
	cd $srcdir/$pkgname-$pkgver

	install -d -m755 $pkgdir/var/lib/pythonfilter
	chown courier:courier $pkgdir/var/lib/pythonfilter
	
	python setup.py install --root=$pkgdir

	install -d -m755 $pkgdir/usr/lib/filters
	ln -s /usr/bin/pythonfilter $pkgdir/usr/lib/filters
}
