# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=perl-alien-base-modulebuild
pkgver=1.12
pkgrel=1
pkgdesc="A Module::Build subclass for building Alien:: modules and their libraries"
arch=('any')
license=('PerlArtistic')
url="https://metacpan.org/release/Alien-Base-ModuleBuild"
depends=('perl-alien-build' 'perl-archive-extract' 'perl-capture-tiny' 'perl-file-chdir'
         'perl-html-parser' 'perl-module-build' 'perl-path-tiny' 'perl-shell-config-generate'
         'perl-shell-guess' 'perl-sort-versions' 'perl-uri')
makedepends=('perl-test2-suite')
checkdepends=('perl-acme-alien-dontpanic' 'perl-inline' 'perl-inline-c' 'perl-inline-cpp')
options=('!emptydirs')
source=("https://cpan.metacpan.org/authors/id/P/PL/PLICEASE/Alien-Base-ModuleBuild-$pkgver.tar.gz")
sha512sums=('f2025dfb0b20482010e52dbc6091b43df3bccbda767761886ea7757f5c794113c481fa376f6f4fd98f03d942f39f4e82bd4d5505109558048fb1870c0c58e2ac')

build() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build.PL installdirs=vendor
  perl Build
}

check() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build test
}

package() {
  cd Alien-Base-ModuleBuild-$pkgver
  perl Build install destdir="$pkgdir"
}
