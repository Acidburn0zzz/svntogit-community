# $Id$
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: Jo Christian Bergskås <jcberg@gmail.com>

pkgname=fceux
pkgver=2.1.4a
pkgrel=4
arch=('i686' 'x86_64')
url="http://fceux.com/web/home.html"
pkgdesc="A fast and ultra-compatible NES/Famicom emulator with SDL, OpenGL and SVGALIB support"
license=('GPL')
depends=('sdl' 'lua' 'gtk2')
makedepends=('scons' 'mesa')
optdepends=('xchm: for viewing the help manual')
provides=('fceu' 'gfceux')
replaces=('fceu' 'gfceux')
source=(http://downloads.sourceforge.net/fceultra/$pkgname-${pkgver}.src.tar.bz2 \
        fceux.desktop fceux.png)
md5sums=('a1252a888cdc8b2c42ae031211f2fad6'
         '30baf915c936926fa50f59d8276f6575'
         '3fe753731ac46b5fee528b1f73abd3e3')

build() {
  cd "${srcdir}/fceu$pkgver"
  scons

  sed -i "s|/usr/local|${pkgdir}/usr|" SConstruct
  scons install

  install -D -m644 bin/$pkgname.chm "${pkgdir}/usr/share/doc/$pkgname/$pkgname.chm"
  install -D -m644 "$srcdir"/fceux.desktop "${pkgdir}"/usr/share/applications/fceux.desktop
  install -D -m644 "$srcdir"/fceux.png "$pkgdir"/usr/share/pixmaps/fceux.png
}

# vim:set ts=2 sw=2 et:
