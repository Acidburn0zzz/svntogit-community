# Contributor: Andrea Scarpino <bash.lnx@gmail.com>
# Contributor: Jaroslaw Swierczynski <swiergot@aur.archlinux.org>
# Contributor: Sven Kauber, <celeon@gmail.com>
# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=encfs
pkgver=1.7.2
pkgrel=1
pkgdesc='Encrypted filesystem in user-space.'
arch=('i686' 'x86_64')
url='http://www.arg0.net/encfs'
license=('GPL')
depends=('rlog' 'openssl' 'fuse' 'boost-libs>=1.43.0')
makedepends=('boost')
options=('!libtool')
source=("http://encfs.googlecode.com/files/${pkgname}-${pkgver}.tgz")
md5sums=('8c133d56bc90056b8803d3c30f435cca')

build(){
  cd ${pkgname}-${pkgver}
#    patch -Np1 -i ${srcdir}/encfs-1.5-const.patch || return 1
#    patch -Np1 -i ${srcdir}/encfs-1.5-boost-as-needed.patch || return 1
#    export LDFLAGS="${LDFLAGS//-Wl,--as-needed}"

  ./configure \
    --prefix=/usr

  make
}

package() {
  cd ${pkgname}-${pkgver}

  make DESTDIR=${pkgdir} install
}
