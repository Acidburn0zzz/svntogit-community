# $Id$
# Contributor: Pierre Schmitz <pierre@archlinux.de>
# Maintainer : Biru Ionut <ionut@archlinux.ro>

_pkgsourcename=nvidia-utils
pkgname=lib32-$_pkgsourcename
pkgver=190.42
pkgrel=2
pkgdesc="NVIDIA drivers utilities and libraries."
arch=('x86_64')
url="http://www.nvidia.com/"
license=('custom')
groups=('lib32')
depends=('lib32-libxext')
conflicts=('lib32-libgl' 'lib32-ati-fglrx-utils')
provides=('lib32-libgl')
source=(http://mir.archlinux.fr/extra/os/i686/$_pkgsourcename-$pkgver-$pkgrel-i686.pkg.tar.gz)

build() {
	cd $srcdir
	mkdir -p $pkgdir/opt/lib32/usr/lib
	cp -dp usr/lib/*.so* $pkgdir/opt/lib32/usr/lib

	# fix wrnog links
	cd $pkgdir/opt/lib32/usr/lib
	ln -sf libGL.so.$pkgver libGL.so
	ln -sf libGL.so.$pkgver libGL.so.1
	ln -sf libGLcore.so.$pkgver libGLcore.so.1
	ln -sf libnvidia-cfg.so.$pkgver libnvidia-cfg.so.1
	ln -sf libnvidia-tls.so.$pkgver libnvidia-tls.so.1
}
sha256sums=('58dab9d673bdef1339b9589b4317005dcab608f974902b50456b039dc28a919f')
