# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Maintainer: tobias <tobias@archlinux.org>
# Contributor: Tobias Kieslich <tobias@justdreams.de>

pkgname=gphpedit
pkgver=0.9.98RC1
pkgrel=3
pkgdesc="a scintilla/gnome based editor specialized on php-files"
arch=(i686 x86_64)
license=('GPL')
depends=('libgnomeui>=2.18.1-2' 'libgtkhtml>=2.11.0' 'desktop-file-utils' 'libwebkit')
makedepends=('intltool')
url="http://www.gphpedit.org/"
options=('!makeflags')
install=gphpedit.install
source=(http://www.gphpedit.org/sites/default/files/gphpedit-$pkgver.tar.gz)
md5sums=('cc3c5f50704fa0ed3ef3d4ac983db525')

build() {
  cd ${srcdir}/*$pkgname*
  ./autogen.sh
  LDFLAGS=`pkg-config --libs gtk+-2.0` ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
  make
  make DESTDIR=$pkgdir install
  # extend MimeType declaration
  echo "MimeType=application/x-php;text-x-php-text/x-php-source;" >> \
    $pkgdir/usr/share/applications/gphpedit.desktop
}
