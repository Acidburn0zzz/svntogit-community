# Contributor: Tim Yang <tdy@gmx.com>
# Contributor: François Charette <firmicus ατ gmx δοτ net>
pkgname=perl-class-accessor
pkgver=0.31
pkgrel=3
pkgdesc="Automated accessor generation"
arch=('i686' 'x86_64')
url="http://search.cpan.org/dist/Class-Accessor/"
license=('GPL' 'PerlArtistic')
depends=('perl>=5.10.0')
options=('!emptydirs')
source=(http://www.cpan.org/authors/id/K/KA/KASEI/Class-Accessor-$pkgver.tar.gz)
md5sums=('d13df2381878ccdb847c23ab6af7e4fa')

build() {
  cd "$srcdir/Class-Accessor-$pkgver"
  eval `perl -V:archname`
  perl Makefile.PL \
      INSTALLARCHLIB=/usr/lib/perl5/current/$archname \
      INSTALLSITELIB=/usr/lib/perl5/site_perl/current \
      INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/$archname || return 1
  make || return 1
  make DESTDIR="$pkgdir" install || return 1
  find "$pkgdir" \( -name '.packlist' -o -name '*.pod' \) -delete
}
