# Maintainer: Felix Yan <felixonmars@archlinux.org>
# Contributor : Fernando "Firef0x" G.P. da Silva <firefgx { aT ) gmail [ d0t } com>

pkgname=ydcv
pkgdesc="YouDao Console Version - Simple wrapper for Youdao online translate (Chinese <-> English) service API, as an alternative to the StarDict Console Version (sdcv)"
pkgver=0.6.1
pkgrel=1
arch=("any")
url="https://github.com/felixonmars/ydcv"
license=("GPL")
depends=('python-setuptools')
makedepends=('python-setuptools-scm' 'python-setuptools-markdown')
source=("$pkgname-$pkgver.tar.gz::https://github.com/felixonmars/$pkgname/archive/$pkgver.tar.gz")
sha512sums=('ed9bc14fad4413c0e610ab2a3b56c316e6d8fcb97a0f4fcfab130dea2fbbe1941af92af45ec00db970cdd9d9ecb213ff65b0de3a11c178c5ee02b8640c6d3d97')

prepare() {
  export SETUPTOOLS_SCM_PRETEND_VERSION=$pkgver
}

package() {
  cd $pkgname-$pkgver
  python setup.py install --root="$pkgdir" --optimize=1
  install -Dm644 contrib/zsh_completion "${pkgdir}/usr/share/zsh/site-functions/_${pkgname}"
}

# vim:set ts=2 sw=2 et:
