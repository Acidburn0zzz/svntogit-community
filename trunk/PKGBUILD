# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=ukui-settings-daemon
pkgver=1.2.0
pkgrel=1
pkgdesc="Daemon handling the UKUI session settings"
arch=('x86_64')
license=('GPL')
url="https://github.com/ukui/ukui-settings-daemon"
groups=('ukui')
depends=('dbus-glib' 'gtk3' 'libmatekbd' 'libmatemixer' 'libnotify' 'libpulse' 'libxklavier' 'mate-desktop' 'nss')
makedepends=('mate-common')
source=("$pkgname-$pkgver.tar.gz::https://github.com/ukui/ukui-settings-daemon/archive/v$pkgver.tar.gz")
sha512sums=('35dc49f972c08ce25b1f91a0105dfb5974b14e2fc02dc79da749174a6f9a13b5e39289964c4ee2c77b37d29ca4c2b9039c50608fec8b95df1ab139776ed80f63')

prepare() {
  cd $pkgname-$pkgver
  NOCONFIGURE=1 ./autogen.sh
}

build() {
  cd $pkgname-$pkgver
  ./configure --prefix=/usr --libexecdir=/usr/lib/$pkgname --sysconfdir=/etc
  make
}

package() {
  cd $pkgname-$pkgver
  make DESTDIR="$pkgdir" install
}
