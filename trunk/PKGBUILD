# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Peter Simons <simons@cryp.to>
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>

pkgname=rfc
pkgver=20101222
pkgrel=1
pkgdesc="RFCs from rfc-editor.org"
arch=('any')
url="http://www.rfc-editor.org/"
license=("custom:as-is")
options=('docs')
source=(http://www.rfc-editor.org/rfc/rfc-index.txt \
        license \
        http://www.rfc-editor.org/rfc/tar/RFCs0001-0500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs0501-1000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs1001-1500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs1501-2000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs2001-2500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs2501-3000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs3001-3500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs3501-4000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs4001-4500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs4501-5000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs5001-5500.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs5501-6000.tar.gz \
        http://www.rfc-editor.org/rfc/tar/RFCs6001-latest.tar.gz)
md5sums=('333a071e1f625187533fccac4aa0c46f'
         '06a779406b45edddbd19fda96696ab4a'
         'da798aebedacbc68ab44b3a2b33c4d63'
         'd02f5269c5c79b913dd146c5e4766afe'
         '89f8ebcf531b31c4e285709003e04c81'
         'cb52c284e6b48d2708cae72e6fcd5714'
         'f4cdb48ba5697319678867bfeb860401'
         '429ce5a2ca4660eb8dfe7166e02743c5'
         '65e8f31e78f887b7a1822a7898913db8'
         '95cb1b92a7ac0402adef6b9597f351f4'
         'a6e7bda65b4c555ee7d249920f4745f9'
         '8b5dda7b743d8b30dfbb307cfc61f5b8'
         'ae482643edfdf824cdca6c2bb24b7f07'
         'f7758e0587c8222a53690c4453d5899b'
         'ceb40af6be4767235f876f09c68a3ffd')

build() {
    cd "$srcdir"

    mkdir -p "$pkgdir/usr/share/doc/rfc"
    cp rfc-index.txt "$pkgdir/usr/share/doc/rfc/"
    rm -f rfc-index.txt

    tar xf rfc1305.tar
    rm -f rfc1305.tar
    for n in ntpv3*; do
      mv "$n" "rfc1305-$n"
    done

    for fmt in txt ps pdf; do
      mkdir -p "$pkgdir/usr/share/doc/rfc/${fmt}"
      mv *.${fmt} "$pkgdir/usr/share/doc/rfc/${fmt}/"
    done

    cd "$pkgdir/usr/share/doc/rfc"
    find . -type f -exec chmod 444 {} \;
    find . -type d -exec chmod 555 {} \;
    chown -R root:root .
    install -D -m0644 $srcdir/license $pkgdir/usr/share/licenses/$pkgname/license
}
