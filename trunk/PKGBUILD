# $Id$
# Maintainer: Alexander RÃ¸dseth <rodseth@gmail.com>
# Contributor: Thomas Dziedzic < gostrc at gmail >
# Contributor: Chris O'Donnell <christopher.p.odonnell@gmail.com>
# Contributor: Sam May <sam.m4y@gmail.com>

pkgname=clojure
pkgver=1.4.0
pkgrel=2
pkgdesc='LISP dialect for the JVM'
url='http://www.clojure.org/'
arch=('any')
license=('CPL')
depends=('java-environment' 'sh')
optdepends=('rlwrap: for a friendlier shell with readline support')
install=clojure.install
# major asshattery on behalf of maven.org, WHY WOULD YOU BLOCK WGET?!?!?!1
DLAGENTS=('http::/usr/bin/wget -c -t 3 --waitretry=3 -O %o %u -U YUBLOCKWGET')
source=("http://repo1.maven.org/maven2/org/clojure/clojure/${pkgver}/clojure-${pkgver}.zip"
        'clj'
        'clojure.sh')
sha256sums=('27a5a151d5cc1bc3e52dff47c66111e637fefeb42d9bedfa1284a1a31d080171'
            '0d0f9e7db77f4b5f507ee18e140c29138b7bff5c4ca9d0b963dfd657c6e3c157'
            'b3fa6257dad10fb39851e87563269b80b2473623126595d9c279bbd90e97f052')

package() {
  cd "$srcdir"

  install -Dm755 clj "$pkgdir/usr/bin/clj"
  install -Dm755 clojure.sh "$pkgdir/etc/profile.d/clojure.sh"
  install -Dm644 "clojure-$pkgver/clojure-$pkgver.jar" \
    "$pkgdir/usr/share/clojure/clojure.jar"
}

# vim:set ts=2 sw=2 et:
