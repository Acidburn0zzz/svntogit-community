# $Id$
# Maintainer: Angel Velasquez <angvp@archlinux.org>
# Contributor: Geoffroy Carrier <geoffroy.carrier@aur.archlinux.org>
# Contributor: Nathan Jones <nathanj@insightbb.com>

pkgbase=python-memcached
pkgname=python2-memcached
pkgver=1.48
pkgrel=2
pkgdesc='Python interface to memcached'
url="https://bugs.launchpad.net/python-memcached"
arch=('any')
license=('Python')
depends=('python2')
makedepends=('python2-distribute')
source=(ftp://ftp.tummy.com/pub/$pkgbase/$pkgbase-$pkgver.tar.gz LICENSE)
md5sums=('58f8c328304df6aca1f8b60170e98932'
         '5286ea4c34766a357085694e0984f116')

package_python2-memcached() {
  cd "$srcdir"/$pkgbase-$pkgver

  # python2 fix
  sed -i 's_#!/usr/bin/env python_#!/usr/bin/env python2_' memcache.py

  python2 setup.py install --root="$pkgdir"
  install -Dm644 "${srcdir}/LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
