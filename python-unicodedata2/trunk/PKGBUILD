# Maintainer: Andrzej Giniewicz <gginiu@gmail.com>
# Contributor: Guillaume Horel <guillaume.horel@gmail.com
# Contributor: Philipp A. <flying-sheep@web.de>

pkgname=python-unicodedata2
pkgver=13.0.0.post2
pkgrel=2
pkgdesc="unicodedata backport/updates to Python 3"
arch=('x86_64')
url="https://github.com/fonttools/unicodedata2"
license=('Apache')
depends=('python')
makedepends=('python-setuptools')
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/fonttools/unicodedata2/archive/${pkgver/.post/-}.tar.gz"
        python310.patch)
sha256sums=('0bc40afc5938f3e1415524b724d3d4856dfcb8868d39e0b8aeced490494403cd'
            '7852e031079e8f3616074b9fc7e7bbdd91b63ddc9d62aa9be4658c9076f093aa')

prepare() {
  cd "unicodedata2-${pkgver/.post/-}"
  patch -Np1 -i ../python310.patch
}

build() {
  cd "unicodedata2-${pkgver/.post/-}"

  python setup.py build
}

package() {
  cd "unicodedata2-${pkgver/.post/-}"

  python setup.py install --root="$pkgdir" --optimize=1
}
