diff --git a/Makefile b/Makefile
index 1838c13..4d5523b 100644
--- a/Makefile
+++ b/Makefile
@@ -21,29 +21,16 @@ GENKAT = genkat
 
 DIST = phc-winner-argon2
 
-SRC = src/argon2.c src/core.c src/blake2/blake2b.c src/thread.c src/encoding.c
+SRC = src/argon2.c src/core.c src/blake2/blake2b.c src/thread.c src/encoding.c src/opt.c
 SRC_RUN = src/run.c
 SRC_BENCH = src/bench.c
 SRC_GENKAT = src/genkat.c
 OBJ = $(SRC:.c=.o)
 
-CFLAGS += -std=c89 -pthread -O3 -Wall -g -Iinclude -Isrc
+CFLAGS += -std=c89 -pthread -Iinclude -Isrc
 CI_CFLAGS := $(CFLAGS) -Werror=declaration-after-statement -D_FORTIFY_SOURCE=2 \
 				-Wextra -Wno-type-limits -Werror -coverage -DTEST_LARGE_RAM
 
-OPTTARGET ?= native
-OPTTEST := $(shell $(CC) -Iinclude -Isrc -march=$(OPTTARGET) src/opt.c -c \
-			-o /dev/null 2>/dev/null; echo $$?)
-# Detect compatible platform
-ifneq ($(OPTTEST), 0)
-$(info Building without optimizations)
-	SRC += src/ref.c
-else
-$(info Building with optimizations for $(OPTTARGET))
-	CFLAGS += -march=$(OPTTARGET)
-	SRC += src/opt.c
-endif
-
 BUILD_PATH := $(shell pwd)
 KERNEL_NAME := $(shell uname -s)
 
