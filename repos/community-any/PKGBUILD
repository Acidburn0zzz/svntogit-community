# Maintainer: Jaroslav Lichtblau <svetlemodry@archlinux.org>
# Contributor: Martin Wimpress <code@flexion.org>

pkgname=variety
pkgver=0.7.0
pkgrel=1
pkgdesc='Changes the wallpaper on a regular interval using user-specified or automatically downloaded images.'
arch=('any')
url="http://peterlevi.com/variety/"
license=('GPL3')
depends=('gtk3' 'imagemagick' 'libgexiv2' 'libnotify' 'python-beautifulsoup4' 'python-cairo'
         'python-configobj' 'python-dbus' 'python-gobject' 'python-httplib2' 'python-pillow'
         'python-lxml' 'python-pycurl' 'python-requests')
makedepends=('python-distutils-extra')
optdepends=('xdg-user-dirs: set wallpaper for KDE Plasma')
source=($pkgname-$pkgver.tar.gz::https://github.com/varietywalls/variety/archive/$pkgver.tar.gz)
sha256sums=('b67ff95f184b1a79659e528f8e72f3d1f9635d9a4af93369e5a3af3b859e9799')

package() {
  cd "${srcdir}"/$pkgname-$pkgver

  export XDG_RUNTIME_DIR="/tmp/${pkgname}"
  python setup.py install --root="${pkgdir}" --optimize=1
}
