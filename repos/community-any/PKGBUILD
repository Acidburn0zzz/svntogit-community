# $ Id: $
# Maintainer: Allan McRae <allan@archlinux.org>

pkgname=pacman-contrib
pkgver=3.3.0
pkgrel=1
pkgdesc="Utilities for use with the pacman package manager"
arch=('any')
url="http://www.archlinux.org/pacman/"
license=('GPL')
depends=('pacman')
source=(ftp://ftp.archlinux.org/other/pacman/pacman-$pkgver.tar.gz)
md5sums=('945b95633cc7340efb4d4564b463c6b1')

build() {
  cd ${srcdir}/pacman-${pkgver}/contrib
  for script in bacman pacdiff paclist pacscripts pacsearch pactree; do
    install -Dm755 ${script} ${pkgdir}/usr/bin/${script}
  done

  install -Dm644 PKGBUILD.vim ${pkgdir}/usr/share/vim/syntax/PKGBUILD.vim
  mkdir ${pkgdir}/usr/share/vim/ftdetect
  echo "au BufNewFile,BufRead PKGBUILD set filetype=PKGBUILD" \
    > ${pkgdir}/usr/share/vim/ftdetect/PKGBUILD.vim
}
