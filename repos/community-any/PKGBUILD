# Maintainer: Konstantin Gizdov <arch at kge dot pw>

_pkgname=uproot3-methods
pkgname="${_pkgname}-methods"
pkgver=0.10.0
pkgrel=1
pkgdesc="Pythonic mix-ins for ROOT classes"
arch=('any')
makedepends=('python-setuptools')
depends=('python-awkward' 'python-numpy')
checkdepends=('python-awkward' 'python-pytest')
replaces=('python-uproot-methods')
url="https://github.com/scikit-hep/${_pkgname}"
license=('BSD')

source=("${url}/archive/${pkgver}.zip")
sha256sums=('3160bf229db1b27d5dc1568df40d53178eb833c365a1b1c2aea9fef07e843d20')

build() {
    cd "${srcdir}/${_pkgname}-${pkgver}"
    python setup.py build
}

check() {
    cd "${srcdir}/${_pkgname}-${pkgver}"
    pytest
}

package() {
    cd "${srcdir}/${_pkgname}-${pkgver}"

    python setup.py install --root="${pkgdir}/" --optimize=1

    install -D LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"

    install -D README.rst "${pkgdir}/usr/share/${pkgname}/README.rst"
}
