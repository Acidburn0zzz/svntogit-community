From 957f7316ce2f5db4223db45f2853739c4fcd2488 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ball=C3=B3=20Gy=C3=B6rgy?= <ballogyor@gmail.com>
Date: Wed, 26 Dec 2018 23:11:29 +0100
Subject: [PATCH]  Fix AppStream metadata validation

---
 linux/cherrytree.appdata.xml | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

diff --git a/linux/cherrytree.appdata.xml b/linux/cherrytree.appdata.xml
index 30c4e26..220ec57 100644
--- a/linux/cherrytree.appdata.xml
+++ b/linux/cherrytree.appdata.xml
@@ -1,9 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <!-- Copyright 2014 Giuseppe Penone <giuspen@gmail.com> -->
-<application>
- <id type="desktop">cherrytree.desktop</id>
+<component type="desktop-application">
+ <id>com.giuspen.cherrytree</id>
  <metadata_license>CC0-1.0</metadata_license>
  <project_license>GPL-3.0+</project_license>
+ <name>CherryTree</name>
+ <summary>Hierarchical Note Taking</summary>
  <description>
   <p>
    A hierarchical note taking application, featuring rich text and syntax highlighting, storing data in a single xml or sqlite file.
@@ -19,9 +21,14 @@
   </ul>
  </description>
  <screenshots>
-  <screenshot type="default">http://www.giuspen.com/images/cherrytree-main_window_text.png</screenshot>
-  <screenshot>http://www.giuspen.com/images/cherrytree-main_window_code.png</screenshot>
+  <screenshot type="default">
+   <image>https://www.giuspen.com/images/cherrytree-main_window_text.png</image>
+  </screenshot>
+  <screenshot>
+   <image>https://www.giuspen.com/images/cherrytree-main_window_code.png</image>
+  </screenshot>
  </screenshots>
- <url type="homepage">http://www.giuspen.com/cherrytree</url>
- <updatecontact>giuspen@gmail.com</updatecontact>
-</application>
+ <launchable type="desktop-id">cherrytree.desktop</launchable>
+ <url type="homepage">https://www.giuspen.com/cherrytree</url>
+ <update_contact>giuspen@gmail.com</update_contact>
+</component>
-- 
2.20.1

