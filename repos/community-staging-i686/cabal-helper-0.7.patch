From b8076fc5d37854534c661f4e9d53af60bb3101f6 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Daniel=20Gr=C3=B6ber?= <dxld@darkboxed.org>
Date: Wed, 11 May 2016 15:13:19 +0200
Subject: [PATCH] Bump cabal-helper dependency

For Cabal-1.24 support
---
 Language/Haskell/GhcMod/Pretty.hs | 3 ++-
 ghc-mod.cabal                     | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/Language/Haskell/GhcMod/Pretty.hs b/Language/Haskell/GhcMod/Pretty.hs
index 1df6948..b2d9e7d 100644
--- a/Language/Haskell/GhcMod/Pretty.hs
+++ b/Language/Haskell/GhcMod/Pretty.hs
@@ -32,7 +32,8 @@ gmRenderDoc = renderStyle docStyle
 
 gmComponentNameDoc :: ChComponentName -> Doc
 gmComponentNameDoc ChSetupHsName   = text $ "Setup.hs"
-gmComponentNameDoc ChLibName       = text $ "library"
+gmComponentNameDoc (ChLibName "")  = text $ "library"
+gmComponentNameDoc (ChLibName n)   = text $ "library:" ++ n
 gmComponentNameDoc (ChExeName n)   = text $ "exe:" ++ n
 gmComponentNameDoc (ChTestName n)  = text $ "test:" ++ n
 gmComponentNameDoc (ChBenchName n) = text $ "bench:" ++ n
diff --git a/ghc-mod.cabal b/ghc-mod.cabal
index f583ca5..583e033 100644
--- a/ghc-mod.cabal
+++ b/ghc-mod.cabal
@@ -165,7 +165,7 @@ Library
                       , bytestring        < 0.11
                       , binary            < 0.9 && >= 0.5.1.0
                       , containers        < 0.6
-                      , cabal-helper      < 0.7 && >= 0.6.3.0
+                      , cabal-helper      < 0.8 && >= 0.7.0.1
                       , deepseq           < 1.5
                       , directory         < 1.3
                       , filepath          < 1.5
