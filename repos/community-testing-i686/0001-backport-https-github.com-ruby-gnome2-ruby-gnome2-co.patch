From 5b083ff67f69a8ab6fc6732131954482b468a880 Mon Sep 17 00:00:00 2001
From: Thomas Dziedzic <gostrc@gmail.com>
Date: Sun, 10 Mar 2013 08:51:02 -0700
Subject: [PATCH] backport
 https://github.com/ruby-gnome2/ruby-gnome2/commit/03be2d663730119036c9d70d4fc7b52523ae40df
 to fix syntax errors with NIL_P

---
 gtk2/ext/gtk2/rbgdkevent.c    | 2 +-
 gtk2/ext/gtk2/rbgdkscreen.c   | 2 +-
 gtk2/ext/gtk2/rbgtkcalendar.c | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/gtk2/ext/gtk2/rbgdkevent.c b/gtk2/ext/gtk2/rbgdkevent.c
index 783ec72..63b1502 100644
--- a/gtk2/ext/gtk2/rbgdkevent.c
+++ b/gtk2/ext/gtk2/rbgdkevent.c
@@ -387,7 +387,7 @@ gdkevent_s_setting_get(int argc, VALUE *argv, G_GNUC_UNUSED VALUE self)
     VALUE value;
 
     rb_scan_args(argc, argv, "11", &name, &type);
-    if NIL_P(type) 
+    if (NIL_P(type)) 
         gtype = G_TYPE_STRING;
     else
         gtype = CLASS2GTYPE(type);
diff --git a/gtk2/ext/gtk2/rbgdkscreen.c b/gtk2/ext/gtk2/rbgdkscreen.c
index 243ed92..3095e38 100644
--- a/gtk2/ext/gtk2/rbgdkscreen.c
+++ b/gtk2/ext/gtk2/rbgdkscreen.c
@@ -210,7 +210,7 @@ rg_get_setting(int argc, VALUE *argv, VALUE self)
     VALUE value;
 
     rb_scan_args(argc, argv, "11", &name, &type);
-    if NIL_P(type) 
+    if (NIL_P(type)) 
         gtype = G_TYPE_STRING;
     else
         gtype = CLASS2GTYPE(type);
diff --git a/gtk2/ext/gtk2/rbgtkcalendar.c b/gtk2/ext/gtk2/rbgtkcalendar.c
index e895f81..f9b0666 100644
--- a/gtk2/ext/gtk2/rbgtkcalendar.c
+++ b/gtk2/ext/gtk2/rbgtkcalendar.c
@@ -105,7 +105,7 @@ rg_display_options(int argc, VALUE *argv, VALUE self)
     VALUE flags;
     rb_scan_args(argc, argv, "01", &flags);
 
-    if NIL_P(flags){
+    if (NIL_P(flags)){
 #if GTK_CHECK_VERSION(2,4,0)
         return GFLAGS2RVAL(gtk_calendar_get_display_options(_SELF(self)),
                            GTK_TYPE_CALENDAR_DISPLAY_OPTIONS);
-- 
1.8.1.5

