# $Id$
# Maintainer: Brad Fanella <bradfanella@archlinux.us>
# Contributor: Bjorn Lindeijer <bjorn@lindeijer.nl>
# Contributor: kritoke <kritoke@nospam.gmail.com>

pkgname=ruby-gtk2
pkgver=0.90.7
pkgrel=2
pkgdesc="Ruby bindings for gtk2."
arch=('i686' 'x86_64')
url="http://ruby-gnome2.sourceforge.jp"
license=('LGPL')
depends=('ruby-glib2' 'ruby-pango' 'ruby-atk' 'ruby-gdkpixbuf2')
makedepends=('ruby-pkgconfig' 'ruby-cairo')
source=(http://downloads.sourceforge.net/ruby-gnome2/ruby-gtk2-$pkgver.tar.gz
        'mkmf-gnome2.patch')
md5sums=('82ebea3ebb6fa51ffc5ec631b31d519a'
         '93dac3212aa8fccfc83b2cd518750cf7')

build() {
	cd "$srcdir/ruby-gtk2-$pkgver"

	# Apply ruby-cairo fixes
        patch -Np1 -i ../mkmf-gnome2.patch glib2/lib/mkmf-gnome2.rb

	ruby extconf.rb gtk2 --topdir=$pkgdir
	make
}
package() {
	cd "$srcdir/ruby-gtk2-$pkgver"
	make DESTDIR="$pkgdir" install
}
