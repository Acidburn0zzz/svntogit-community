# Maintainer: Angel Velasquez <angvp@archlinux.org>
# Contributor: Geoffroy Carrier <geoffroy.carrier@aur.archlinux.org>
# Contributor: Nathan Jones <nathanj@insightbb.com>
pkgname=python-memcached
pkgver=1.48
pkgrel=1
pkgdesc="A Python interface to memcached"
url="ftp://ftp.tummy.com/pub/python-memcached/"
arch=('i686' 'x86_64')
license=('Python')
source=(ftp://ftp.tummy.com/pub/$pkgname/$pkgname-$pkgver.tar.gz LICENSE)
makedepends=('setuptools')
depends=('python2')
md5sums=('58f8c328304df6aca1f8b60170e98932'
         '5286ea4c34766a357085694e0984f116')

build() {
  cd "$srcdir"/$pkgname-$pkgver

  # python2 fix
  sed -i 's_#!/usr/bin/env python_#!/usr/bin/env python2_' memcache.py

  python2 setup.py install --root=$pkgdir
  install -Dm644 ${srcdir}/LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
