# Maintainer: Maxim Baz <$pkgname at maximbaz dot com>
# Contributor: jtheoof <contact@jtheoof.me>
pkgname=swappy
pkgver=1.3.0
pkgrel=2
license=('MIT')
pkgdesc='A Wayland native snapshot editing tool'
arch=('x86_64')
url='https://github.com/jtheoof/swappy'
depends=('cairo'
         'gtk3'
         'pango')
optdepends=('wl-clipboard: for persistent clipboard'
            'otf-font-awesome: to draw paint icons')
makedepends=('meson' 'scdoc')
source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/v${pkgver}.tar.gz")
sha256sums=('4a95e7348f60b38eccf9d0c96882ea4a9e2ae90bd52806ea9d956a68994b404a')

build() {
    cd "${pkgname}-${pkgver}"

    arch-meson build
    ninja -C build
}

package() {
    cd "${pkgname}-${pkgver}"

    DESTDIR="$pkgdir" ninja -C build install
    install -Dm644 -t "$pkgdir/usr/share/licenses/${pkgname}" LICENSE
}
