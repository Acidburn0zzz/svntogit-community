# $Id$
# Maintainer: Kyle Keen <keenerd@gmail.com>
# Contributor: Daniel J Griffiths <ghost1227@archlinux.us>
# Contributor: Jeff Mickey <j@codemac.net>
# Contributor: Ben Mazer <blm@groknil.org>

pkgname=lwm
pkgver=1.2.2
pkgrel=2
pkgdesc="A very light weight window manager"
arch=('i686' 'x86_64')
license=('GPL')
url="http://www.jfc.org.uk/software/lwm.html"
depends=('xorg-server' 'libsm' 'libxext')
makedepends=('imake')
source=(http://www.jfc.org.uk/files/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('1748722a293e03d632b615275ef84498')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  sed -i -e "s/(SMLIB)/& -lICE/g" Imakefile
  xmkmf
  make EXTRA_LDOPTIONS="${CFLAGS} ${LDFLAGS}" CFLAGS="${CFLAGS}"
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}

  install -Dm755 lwm ${pkgdir}/usr/bin/lwm
  install -Dm644 lwm.man ${pkgdir}/usr/share/man/man1/lwm.1
}
