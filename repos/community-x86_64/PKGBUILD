# Maintainer: Angel 'angvp' Velasquez <angvp[at]archlinux.com.ve>
# Contributor: Geoffroy Carrier <geoffroy.carrier@aur.archlinux.org>
# Contributor: Nathan Jones <nathanj@insightbb.com>
pkgname=python-memcached
pkgver=1.45
pkgrel=2
pkgdesc="A Python interface to memcached"
depends=('python2')
makedepends=('setuptools')
source=(ftp://ftp.tummy.com/pub/$pkgname/$pkgname-$pkgver.tar.gz LICENSE)
url="ftp://ftp.tummy.com/pub/python-memcached/"
license=('Python')
arch=('i686' 'x86_64')
md5sums=('8ced76d87f13bc0a3a1b6c343ae83413'
         '5286ea4c34766a357085694e0984f116')

build() {
  cd "$srcdir"/$pkgname-$pkgver

  # python2 fix
  sed -i 's_#!/usr/bin/env python_#!/usr/bin/env python2_' memcache.py

  python2 setup.py install --root=$pkgdir
  install -Dm644 ${srcdir}/LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
