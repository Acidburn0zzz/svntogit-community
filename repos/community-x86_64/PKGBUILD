# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Sander Jansen <sander@knology.net>

pkgname=gogglesmm
pkgver=1.2.0
pkgrel=1
pkgdesc="Music Manager and Player"
arch=('x86_64')
url="http://gogglesmm.github.io/"
license=('GPL3')
depends=('fox-devel>=1.7.48' 'libmad' 'faad2' 'sqlite3'
	 'libpulse' 'opus' 'dbus' 'taglib>=1.9.0' 
	 'hicolor-icon-theme' 'desktop-file-utils'
	 'libepoxy')
makedepends=('glproto' 'dri2proto' 'cmake')
conflicts=('musicmanager')
replaces=('musicmanager')
source=("$pkgname-$pkgver.tar.gz::https://github.com/gogglesmm/gogglesmm/archive/$pkgver.tar.gz")
sha256sums=('474251fd85e1bc8b513977dab712e5b9e4dfb70d7a48ccb5f5d6238aecb0beeb')

prepare() {
  cd gogglesmm-$pkgver
#  sed -i 's|reswrap-1.7|reswrap-devel|g' src/CMakeLists.txt
}

build() {
  cd gogglesmm-$pkgver
  cmake -DCMAKE_INSTALL_PREFIX=/usr .
  make
}

package() {
  cd gogglesmm-$pkgver
  make DESTDIR="$pkgdir" install
}
