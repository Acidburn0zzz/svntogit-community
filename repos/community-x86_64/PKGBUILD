# $Id$
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: Jo Christian Bergskås <jcberg@gmail.com>

pkgname=fceux
pkgver=2.1.0a
pkgrel=1
pkgdesc="A fast and ultra-compatible NES/Famicom emulator with SDL, OpenGL and SVGALIB support"
arch=('i686' 'x86_64')
url="http://fceux.com/web/htdocs/index.php"
license=('GPL')
depends=('sdl' 'zlib' 'zenity' 'lua' 'mesa')
makedepends=('scons')
optdepends=('xchm: for viewing the help manual')
provides=('fceu')
replaces=('fceu')
source=(http://downloads.sourceforge.net/fceultra/${pkgname}-${pkgver}.src.tar.bz2)
md5sums=('d48ed087e1cd5018ca8a4c9142130948')
sha1sums=('a76d32d8095886a283bdd97542577d8592e0a08b')

build() {
  cd ${srcdir}/fceu
  sed -i "s|/usr/local|${pkgdir}/usr|" SConstruct || return 1
  scons || return 1
  scons install || return 1
  install -D -m644 bin/fceux.chm ${pkgdir}/usr/share/doc/fceux/fceux.chm || return 1
}
