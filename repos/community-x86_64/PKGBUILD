# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Maintainer: Lubosz Sarnecki <lubosz@gmail.com>
# Contributor: Kerrick Staley <mail@kerrickstaley.com>
# Contributor: Thijs Vermeir <thijsvermeir@gmail.com>

pkgname=gst-editing-services
pkgver=1.12.2
pkgrel=1
pkgdesc='GStreamer editing services'
arch=('i686' 'x86_64')
license=('LGPL')
url='http://gstreamer.freedesktop.org/modules/gst-editing-services.html'
depends=('gst-plugins-base')
makedepends=('intltool' 'pkgconfig' 'gtk-doc' 'gobject-introspection'
	     'bash-completion' 'python2-gobject')
checkdepends=('gst-plugins-good' 'gst-plugins-bad')
validpgpkeys=('7F4BC7CC3CA06F97336BBFEB0668CC1486C2D7B5')
source=("https://gstreamer.freedesktop.org/src/gstreamer-editing-services/gstreamer-editing-services-$pkgver.tar.xz"{,.asc})
sha256sums=('59c75497b53d36f020cb0cb7c7b9ae7545f5b47fd6e4406d4f3391741071202e'
            'SKIP')

build() {
  cd "$srcdir"/gstreamer-editing-services-$pkgver
  ./configure --prefix=/usr --enable-gtk-doc \
    --with-package-name="GStreamer (Arch Linux)" \
    --with-package-origin="http://www.archlinux.org/"
  make
}

check() {
  cd "$srcdir"/gstreamer-editing-services-$pkgver
  # Broken on i686
  make check || :
}

package() {
  cd "$srcdir"/gstreamer-editing-services-$pkgver
  make DESTDIR="$pkgdir" install
}
