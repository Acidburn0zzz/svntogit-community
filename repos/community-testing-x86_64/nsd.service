[Unit]
Description=Name Server Daemon
After=network.target

[Service]
User=nsd
Group=nsd
PermissionsStartOnly=true
RuntimeDirectory=nsd
ReadWritePaths=/var/db/nsd
PIDFile=/run/nsd/nsd.pid
ExecStart=/usr/bin/nsd -d -c /etc/nsd/nsd.conf
ExecReload=/bin/kill -HUP $MAINPID
ExecStop=/bin/kill -TERM $MAINPID
Restart=always
CapabilityBoundingSet=CAP_NET_BIND_SERVICE
NoNewPrivileges=True
#SecureBits=noroot-locked
ProtectSystem=strict
ProtectHome=true
PrivateTmp=true
PrivateDevices=true
PrivateUsers=true
ProtectHostname=true
ProtectClock=true
ProtectKernelTunables=true
ProtectKernelModules=true
ProtectKernelLogs=true
ProtectControlGroups=true
LockPersonality=true
MemoryDenyWriteExecute=true
RestrictRealtime=true
RestrictSUIDSGID=true
SystemCallArchitectures=native
SystemCallFilter=@system-service

[Install]
WantedBy=multi-user.target
